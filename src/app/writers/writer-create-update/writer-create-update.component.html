<div class="writer-create-update-container">
  <div class="writer-create-update-content">
    <div *ngIf="writer === undefined">
      <mat-spinner></mat-spinner>
    </div>

    <form class="writer-form" *ngIf="writer" [formGroup]="formGroup">
      <mat-form-field class="writer-form-field">
        <mat-label>Autor</mat-label>
        <input
          name="name"
          matInput
          placeholder="Pesquisar autor"
          required
          formControlName="Name"
          [(ngModel)]="writer.name"
        />
        <mat-error *ngIf="formGroup.get('Name')?.errors?.['required']">Nome é obrigatório</mat-error>
        <mat-error *ngIf="formGroup.get('Name')?.errors?.['maxlength']">Nome deve ter no máximo {{formGroup.get('Name')?.errors?.['maxlength']?.['requiredLength']}} caracteres</mat-error>
      </mat-form-field>

      <button mat-raised-button color="primary" class="button" (click)="save()">
        <ng-template *ngIf="writer.id; then edit; else create"> </ng-template>
        <ng-template #edit> Editar </ng-template>
        <ng-template #create> Criar </ng-template>
      </button>
    </form>

    <div *ngIf="writer === null">
      <p>Não foi possível encontrar o autor</p>
    </div>
  </div>
</div>
